Here's a README for the Go application you described:

# Cloud Infrastructure Vulnerability Recommender

This Go application is an API server built using Gin that leverages OpenAI's embeddings and ChatGPT to suggest potential vulnerabilities in cloud infrastructure decisions. It utilizes a RAG (Retrieval-Augmented Generation) approach, fetching relevant embeddings from a PostgreSQL database using pgvector.

## Features

- RESTful API built with Gin framework
- Integration with OpenAI's API for embeddings and text generation
- PostgreSQL database with pgvector extension for efficient similarity search
- Recommendation system based on user's cloud infrastructure decisions
- Environment-based configuration for easy deployment

## Prerequisites

- Go 1.21 or higher
- PostgreSQL with pgvector extension
- OpenAI API key

## Installation

1. Clone the repository:

```bash
git clone https://github.com/csye7125-su24-team08/cve-rag.git
cd cve-rag
```

2. Install dependencies:

```bash
go mod tidy
```

3. Set up environment variables:

Create a `.env` file in the project root and add the following variables:

```
HOST=your_postgres_host
USERNAME=your_postgres_username
PWD=your_postgres_password
PORT=your_postgres_port
DB=your_database_name
OPENAI_API_KEY=your_openai_api_key
```

## Usage

1. Start the server:

```bash
go run main.go
```

2. The server will start on `http://localhost:8080` by default.

3. To get recommendations, send a POST request to the `/recommend` endpoint:

```bash
curl -X POST http://localhost:8080/recommend \
     -H "Content-Type: application/json" \
     -d '{"decision": "I want to use a public S3 bucket for storing sensitive data"}'
```

The server will respond with potential vulnerabilities and recommendations based on the provided decision.

## API Endpoints

### POST /recommend

Accepts a JSON body with a "decision" key and returns vulnerability recommendations.

**Request Body:**
```json
{
  "decision": "Your cloud infrastructure decision"
}
```

**Response:**
```json
{
  "recommendations": "Detailed recommendations and potential vulnerabilities"
}
```

## Technical Details

- The application uses the `text-ada-002` model for generating embeddings.
- ChatGPT responses are generated using the `gpt-3.5-turbo` model.
- Embeddings are stored and retrieved from PostgreSQL using the pgvector extension.
- The RAG approach combines retrieved relevant information with ChatGPT's generation capabilities for accurate and context-aware recommendations.

## Environment Variables

- `HOST`: PostgreSQL host
- `USERNAME`: PostgreSQL username
- `PWD`: PostgreSQL password
- `PORT`: PostgreSQL port
- `DB`: PostgreSQL database name
- `OPENAI_API_KEY`: Your OpenAI API key

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

This project is licensed under the MIT License.

Citations:
[1] https://github.com/sashabaranov/go-openai/actions/runs/5023405982
[2] https://www.hackwithgpt.com/blog/how-to-make-a-chatgpt-plugin-with-go/
[3] https://github.com/ctate/go-openai-api
[4] https://betterprogramming.pub/chatgpt-golang-a7bd524e7563?gi=fbc68cb864e8
[5] https://pkg.go.dev/github.com/jinnotgin/openai-api-emulator
